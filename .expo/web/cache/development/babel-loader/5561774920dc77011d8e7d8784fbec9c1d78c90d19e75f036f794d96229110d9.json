{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport FirestoreFieldPath, { fromDotSeparatedString } from \"./FirestoreFieldPath\";\nexport var FirestoreAggregateQuery = function () {\n  function FirestoreAggregateQuery(firestore, query, collectionPath, modifiers) {\n    _classCallCheck(this, FirestoreAggregateQuery);\n    this._firestore = firestore;\n    this._query = query;\n    this._collectionPath = collectionPath;\n    this._modifiers = modifiers;\n  }\n  return _createClass(FirestoreAggregateQuery, [{\n    key: \"query\",\n    get: function get() {\n      return this._query;\n    }\n  }, {\n    key: \"get\",\n    value: function get() {\n      var _this = this;\n      return this._firestore.native.collectionCount(this._collectionPath.relativeName, this._modifiers.type, this._modifiers.filters, this._modifiers.orders, this._modifiers.options).then(function (data) {\n        return new FirestoreAggregateQuerySnapshot(_this._query, data, true);\n      });\n    }\n  }]);\n}();\nexport var FirestoreAggregateQuerySnapshot = function () {\n  function FirestoreAggregateQuerySnapshot(query, data, isGetCountFromServer) {\n    _classCallCheck(this, FirestoreAggregateQuerySnapshot);\n    this._query = query;\n    this._data = data;\n    this._isGetCountFromServer = isGetCountFromServer;\n  }\n  return _createClass(FirestoreAggregateQuerySnapshot, [{\n    key: \"data\",\n    value: function data() {\n      if (this._isGetCountFromServer) {\n        return {\n          count: this._data.count\n        };\n      } else {\n        return _objectSpread({}, this._data);\n      }\n    }\n  }]);\n}();\nexport var AggregateType = {\n  SUM: 'sum',\n  AVG: 'average',\n  COUNT: 'count'\n};\nexport var AggregateField = _createClass(function AggregateField(aggregateType, fieldPath) {\n  _classCallCheck(this, AggregateField);\n  this.aggregateType = aggregateType;\n  this._fieldPath = fieldPath;\n});\nexport function fieldPathFromArgument(path) {\n  if (path instanceof FirestoreFieldPath) {\n    return path;\n  } else if (typeof path === 'string') {\n    return fromDotSeparatedString(path);\n  } else {\n    throw new Error('Field path arguments must be of type `string` or `FieldPath`');\n  }\n}","map":{"version":3,"names":["FirestoreFieldPath","fromDotSeparatedString","FirestoreAggregateQuery","firestore","query","collectionPath","modifiers","_classCallCheck","_firestore","_query","_collectionPath","_modifiers","_createClass","key","get","value","_this","native","collectionCount","relativeName","type","filters","orders","options","then","data","FirestoreAggregateQuerySnapshot","isGetCountFromServer","_data","_isGetCountFromServer","count","_objectSpread","AggregateType","SUM","AVG","COUNT","AggregateField","aggregateType","fieldPath","_fieldPath","fieldPathFromArgument","path","Error"],"sources":["C:/Users/mopym/crud-firebase-app/node_modules/@react-native-firebase/firestore/lib/FirestoreAggregate.js"],"sourcesContent":["/*\n * Copyright (c) 2022-present Invertase Limited & Contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this library except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\n\nimport FirestoreFieldPath, { fromDotSeparatedString } from './FirestoreFieldPath';\n\nexport class FirestoreAggregateQuery {\n  constructor(firestore, query, collectionPath, modifiers) {\n    this._firestore = firestore;\n    this._query = query;\n    this._collectionPath = collectionPath;\n    this._modifiers = modifiers;\n  }\n\n  get query() {\n    return this._query;\n  }\n\n  get() {\n    return this._firestore.native\n      .collectionCount(\n        this._collectionPath.relativeName,\n        this._modifiers.type,\n        this._modifiers.filters,\n        this._modifiers.orders,\n        this._modifiers.options,\n      )\n      .then(data => new FirestoreAggregateQuerySnapshot(this._query, data, true));\n  }\n}\n\nexport class FirestoreAggregateQuerySnapshot {\n  constructor(query, data, isGetCountFromServer) {\n    this._query = query;\n    this._data = data;\n    this._isGetCountFromServer = isGetCountFromServer;\n  }\n\n  data() {\n    if (this._isGetCountFromServer) {\n      return { count: this._data.count };\n    } else {\n      return { ...this._data };\n    }\n  }\n}\n\nexport const AggregateType = {\n  SUM: 'sum',\n  AVG: 'average',\n  COUNT: 'count',\n};\n\nexport class AggregateField {\n  /** Indicates the aggregation operation of this AggregateField. */\n  aggregateType;\n  _fieldPath;\n\n  /**\n   * Create a new AggregateField<T>\n   * @param aggregateType Specifies the type of aggregation operation to perform.\n   * @param _fieldPath Optionally specifies the field that is aggregated.\n   * @internal\n   */\n  constructor(aggregateType, fieldPath) {\n    this.aggregateType = aggregateType;\n    this._fieldPath = fieldPath;\n  }\n}\n\nexport function fieldPathFromArgument(path) {\n  if (path instanceof FirestoreFieldPath) {\n    return path;\n  } else if (typeof path === 'string') {\n    return fromDotSeparatedString(path);\n  } else {\n    throw new Error('Field path arguments must be of type `string` or `FieldPath`');\n  }\n}\n"],"mappings":";;;;;AAiBA,OAAOA,kBAAkB,IAAIC,sBAAsB;AAEnD,WAAaC,uBAAuB;EAClC,SAAAA,wBAAYC,SAAS,EAAEC,KAAK,EAAEC,cAAc,EAAEC,SAAS,EAAE;IAAAC,eAAA,OAAAL,uBAAA;IACvD,IAAI,CAACM,UAAU,GAAGL,SAAS;IAC3B,IAAI,CAACM,MAAM,GAAGL,KAAK;IACnB,IAAI,CAACM,eAAe,GAAGL,cAAc;IACrC,IAAI,CAACM,UAAU,GAAGL,SAAS;EAC7B;EAAC,OAAAM,YAAA,CAAAV,uBAAA;IAAAW,GAAA;IAAAC,GAAA,EAED,SAAAA,IAAA,EAAY;MACV,OAAO,IAAI,CAACL,MAAM;IACpB;EAAC;IAAAI,GAAA;IAAAE,KAAA,EAED,SAAAD,GAAGA,CAAA,EAAG;MAAA,IAAAE,KAAA;MACJ,OAAO,IAAI,CAACR,UAAU,CAACS,MAAM,CAC1BC,eAAe,CACd,IAAI,CAACR,eAAe,CAACS,YAAY,EACjC,IAAI,CAACR,UAAU,CAACS,IAAI,EACpB,IAAI,CAACT,UAAU,CAACU,OAAO,EACvB,IAAI,CAACV,UAAU,CAACW,MAAM,EACtB,IAAI,CAACX,UAAU,CAACY,OAClB,CAAC,CACAC,IAAI,CAAC,UAAAC,IAAI;QAAA,OAAI,IAAIC,+BAA+B,CAACV,KAAI,CAACP,MAAM,EAAEgB,IAAI,EAAE,IAAI,CAAC;MAAA,EAAC;IAC/E;EAAC;AAAA;AAGH,WAAaC,+BAA+B;EAC1C,SAAAA,gCAAYtB,KAAK,EAAEqB,IAAI,EAAEE,oBAAoB,EAAE;IAAApB,eAAA,OAAAmB,+BAAA;IAC7C,IAAI,CAACjB,MAAM,GAAGL,KAAK;IACnB,IAAI,CAACwB,KAAK,GAAGH,IAAI;IACjB,IAAI,CAACI,qBAAqB,GAAGF,oBAAoB;EACnD;EAAC,OAAAf,YAAA,CAAAc,+BAAA;IAAAb,GAAA;IAAAE,KAAA,EAED,SAAAU,IAAIA,CAAA,EAAG;MACL,IAAI,IAAI,CAACI,qBAAqB,EAAE;QAC9B,OAAO;UAAEC,KAAK,EAAE,IAAI,CAACF,KAAK,CAACE;QAAM,CAAC;MACpC,CAAC,MAAM;QACL,OAAAC,aAAA,KAAY,IAAI,CAACH,KAAK;MACxB;IACF;EAAC;AAAA;AAGH,OAAO,IAAMI,aAAa,GAAG;EAC3BC,GAAG,EAAE,KAAK;EACVC,GAAG,EAAE,SAAS;EACdC,KAAK,EAAE;AACT,CAAC;AAED,WAAaC,cAAc,GAAAxB,YAAA,CAWzB,SAAAwB,eAAYC,aAAa,EAAEC,SAAS,EAAE;EAAA/B,eAAA,OAAA6B,cAAA;EACpC,IAAI,CAACC,aAAa,GAAGA,aAAa;EAClC,IAAI,CAACE,UAAU,GAAGD,SAAS;AAC7B,CAAC;AAGH,OAAO,SAASE,qBAAqBA,CAACC,IAAI,EAAE;EAC1C,IAAIA,IAAI,YAAYzC,kBAAkB,EAAE;IACtC,OAAOyC,IAAI;EACb,CAAC,MAAM,IAAI,OAAOA,IAAI,KAAK,QAAQ,EAAE;IACnC,OAAOxC,sBAAsB,CAACwC,IAAI,CAAC;EACrC,CAAC,MAAM;IACL,MAAM,IAAIC,KAAK,CAAC,8DAA8D,CAAC;EACjF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}